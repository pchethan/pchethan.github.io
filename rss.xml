<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Minimal Blog - @lekoarts/gatsby-theme-minimal-blog]]></title><description><![CDATA[Minimal Blog - @lekoarts/gatsby-theme-minimal-blog]]></description><link>https://pchethan.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 08 Jul 2021 07:28:07 GMT</lastBuildDate><item><title><![CDATA[Composition of Design Tools]]></title><link>https://pchethan.github.io/composition-of-design-tools</link><guid isPermaLink="false">https://pchethan.github.io/composition-of-design-tools</guid><pubDate>Mon, 12 Oct 2020 18:30:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1bkk5q4&quot;&gt;.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Roy Fielding&amp;#x27;s thesis&lt;sup id=&quot;fnref-1&quot;&gt;&lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; derives REST from various architectural styles. His derivation graph (reproduced below for convenience) shows simpler styles combining and evolving into composite styles while their traits are combined and mixed in the process. Roy Fielding traces REST&amp;#x27;s final &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/net_arch_styles.htm#sec_3_9&quot; class=&quot;css-1od09yo&quot;&gt;resultant traits&lt;/a&gt; from this derivation graph.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_derivation.gif&quot; class=&quot;css-1od09yo&quot;&gt;&lt;img src=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_derivation.gif&quot; alt=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_derivation.gif&quot; class=&quot;css-0&quot;/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Source: &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_derivation.gif&quot; class=&quot;css-1od09yo&quot;&gt;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_derivation.gif&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Software design tools are also composites. A design tool (for lack of a better name &lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;) is a tool, when applied, solves a design problem. Divide-and-conquer is a good example, although it is not specific to software domain. Such a tool could combine and evolve resulting in composite design tools. For example, Polymorphism is derived from Typing, which is based on &lt;a href=&quot;https://en.wikipedia.org/wiki/Generalization&quot; class=&quot;css-1od09yo&quot;&gt;Generalization&lt;/a&gt; which itself is based on Abstraction. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;So, what would a derivation for design tools look like? I created one &lt;sup id=&quot;fnref-3&quot;&gt;&lt;a href=&quot;#fn-3&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; for design tools used in few common design approaches such as OOAD, DDD etc. See image below.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:94.58333333333333%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAEDAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH3pzSqLkGoP//EABkQAQACAwAAAAAAAAAAAAAAAAABERAxQf/aAAgBAQABBQLNrRp1/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFhAAAwAAAAAAAAAAAAAAAAAAECAh/9oACAEBAAY/AhH/AP/EAB0QAAICAgMBAAAAAAAAAAAAAAERAEEQIWFxgdH/2gAIAQEAAT8hJjVRmj9m1H5OBfUMnYLAJteP/9oADAMBAAIAAwAAABDTCDz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAACAwACAwAAAAAAAAAAAAABEQAhMRBBUaHh/9oACAEBAAE/EFAK7UJhppxwCA8n4gJKy3YdNh0SEmrQULmLPXXBFypN4//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;tools&quot; title=&quot;tools&quot; src=&quot;/static/4f2dabee57dc594e8ea9f732e33c79fb/18e3b/tools.jpg&quot; srcSet=&quot;/static/4f2dabee57dc594e8ea9f732e33c79fb/46946/tools.jpg 240w,/static/4f2dabee57dc594e8ea9f732e33c79fb/55489/tools.jpg 480w,/static/4f2dabee57dc594e8ea9f732e33c79fb/18e3b/tools.jpg 960w,/static/4f2dabee57dc594e8ea9f732e33c79fb/60e21/tools.jpg 1440w,/static/4f2dabee57dc594e8ea9f732e33c79fb/69b48/tools.jpg 1920w,/static/4f2dabee57dc594e8ea9f732e33c79fb/66891/tools.jpg 2223w&quot; sizes=&quot;(max-width: 960px) 100vw, 960px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;How to read this image? - Its similar to the derivation graph image above.&lt;/p&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;An arrow depicts the contribution of one design tool in the formation of the other at arrow head.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Multiple arrow heads mean that a tool is a composite. E.g., Separation of Concerns is formed from abstraction (a common concept necessitating things sticking together) and divide-and-conquer (division of the problem space with different granularities of concepts)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Arrow labels indicate an abstract concept that forms a basis.&lt;/li&gt;&lt;/ul&gt;&lt;style data-emotion-css=&quot;13l3oqy&quot;&gt;.css-13l3oqy{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;hr class=&quot;css-13l3oqy&quot;/&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Its just as useful as any map:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Not losing sight of first principles behind the design approaches we use:
It is known that microservices provide isolation. But it is not automatic. The abstraction (type/scope/nature of services it provides) must be good enough to provide low coupling/high cohesion.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Two designs that are close in their makeup are likely similar, yield similar benefits. The graph thus forms clusters of similar designs. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;If you have an understanding of one design principle, its easier to begin understanding its siblings, cousins etc.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Reference for discussion, refinement of relationships&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;&lt;div class=&quot;footnotes css-0&quot;&gt;&lt;hr class=&quot;css-13l3oqy&quot;/&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li id=&quot;fn-1&quot; class=&quot;css-0&quot;&gt;Roy Fielding’s dissertation: &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&quot; class=&quot;css-1od09yo&quot;&gt;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&lt;/a&gt;&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-2&quot; class=&quot;css-0&quot;&gt;I use &amp;#x27;design tool&amp;#x27; as opposed to &amp;#x27;design principle&amp;#x27;, because a principle, in common usage today, refers to something concrete like &amp;#x27;single responsibility principle&amp;#x27;. I found the word &amp;#x27;tool&amp;#x27; to be more appropriate, because it is a thing you can apply and achieve something.&lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-3&quot; class=&quot;css-0&quot;&gt;I confess that the image may not be 100% accurate. This image was originally my notes. I have been using it for discussions with colleagues in my organization. It has been evolving over time as I learn more and put more thought into their relationships.&lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[A Design for Orchestration with Microservices]]></title><link>https://pchethan.github.io/a-design-for-orchestration-with-microservices</link><guid isPermaLink="false">https://pchethan.github.io/a-design-for-orchestration-with-microservices</guid><pubDate>Mon, 20 Jul 2020 18:30:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1bkk5q4&quot;&gt;.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This article describes the design of an application framework which helps in implementation of business procedures using orchestration with microservices. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The design provides &lt;/p&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Data model, &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Programming model and &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;A set of constraints &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;which induce benefits listed at the end of this article.&lt;/p&gt;&lt;style data-emotion-css=&quot;170hkfz&quot;&gt;.css-170hkfz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-170hkfz{font-size:1.875rem;}}@media screen and (min-width:768px){.css-170hkfz{font-size:2.25rem;}}&lt;/style&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Background&lt;/h3&gt;&lt;style data-emotion-css=&quot;rrejfe&quot;&gt;.css-rrejfe{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;color:var(--theme-ui-colors-heading,#000);margin-top:1rem;}@media screen and (min-width:640px){.css-rrejfe{font-size:1.5rem;}}@media screen and (min-width:768px){.css-rrejfe{font-size:1.875rem;}}&lt;/style&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Business Procedure&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A business procedure is a tree of operations, that together, accomplish a business task.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;For example, in an e-commerce business, completing an order may invo­­lve below operations and sub-operations&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Payment&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Credit cards, e-wallets&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Procurement from seller&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Shipping&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Packaging&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Email, SMS Verifications&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:349px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:83.33333333333334%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAABxklEQVQ4y3WUV67CUAxEs/8tsQckRAfBBwTRa2ih+elYmitTnqVwk9gez9gO2f1+N12PxyOdXGVZ2mq1suPxaMvl0s7nsz2fT4s5n3kZAVw8xPP1etl+v7f1em39ft92u51tt1t/r5jPPHyZ2PxieDqdnBksAQaUpBgT8wBOgLGSqiF1Nps5M0Dn8/lbzGfeT0AqAXa5XByE+8VikQpwH+X+Cxip3243T5SMzWaTCtEGmEYCX5I1BBnMmDDvuCSVJAxQFcT/NRQcmmK73Xa5Arher9ZsNq0oisQEG4/H1mq13P/GEFQYHQ4HByJQTp6Hw6H7eU8MpnWiNfi0nwlwNBpZvV63Xq/nAABpD/M8t0ql4j5UYMglvlar+Ql7yfbFJpFgpkhlMUQOz6wOJ73DFAczfMQlhvxAncazxJIVQQEgWY1nYADxDslimKasato5CsTdintHoclk4veYZkBhLAO90Wh437But+ugyIu7ppPkTqfz9vnhGwwGjuGAyGR5uUe2vgie458BzOg3arhXIWKIpRUZk2KfptOps6J6tVr1aWv3KEYb2FFi8ZOHTHYXIMnPtPlUVgAGiAahKbIJJKvv8sX/xT/jWSJ8e4EySAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;optree&quot; title=&quot;optree&quot; src=&quot;/static/4493c03c5c3cdf946f8fbf284e078562/fe88b/optree.png&quot; srcSet=&quot;/static/4493c03c5c3cdf946f8fbf284e078562/5243c/optree.png 240w,/static/4493c03c5c3cdf946f8fbf284e078562/fe88b/optree.png 349w&quot; sizes=&quot;(max-width: 349px) 100vw, 349px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Fig: Op Tree&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The tree could be of arbitrary depth. For example, payment processing may involve, applying coupon codes, promotions, discounts in addition to talking to external payment gateways, e-wallets etc.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Microservices&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A system could be split into microservices by any one of various decomposition methods. (Using bounded contexts of Domain Driven Design is one). Irrespective of the method, a microservice operates with one or few focused concerns.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;E.g., a separate microservice could be responsible for handling payments.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;So business procedures invariably span multiple microservices.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Orchestration&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&amp;#x27;Orchestration&amp;#x27; is an design where a single microservice (say, &amp;#x27;owner&amp;#x27;), provides a business procedure as a service. It provides this service by implementing an execution plan and progressing a &amp;#x27;cursor&amp;#x27; on the plan and invoking services of other microservices wherever needed. That is -- the owner microservice acts as controller.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;An execution plan creates a topology of microservices.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:479px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:56.666666666666664%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABSUlEQVQoz3WSb8uCUAzF/f7fTZJ84QvBKEW0LCtLzf7s4Tc4oMJzYdw5t3PO3RZ8Ph/D3u+3/X4/6/vedrud7fd7K8vSrtervV4v/z8Mg3VdZ4/Hw1Q3N3ICQDDOOI7Wtq0XXS4XL8QgyfPcsiyz8/lsTdPY9/t1W4MGgMB8u91cDSwkog4wqeI/JICfTie/EUL+AhBFMMJMAd+Hw8GLiBODYH3u97s9n0/3F4AEYQdgmiYPEqNAyvAxfGL4KMMvisLFYNQFsGsYJMz7Ip9iKT8ej1ZVlbeHF4Rh6DdxB1QxoDADzBGRbg2NvgIGObm8SuZTXk+JZBI1LCnXc4mpNZr0/FULQH4gmx2kpxqU9vC/VVFbXKGmpn3E9DStxjxnnTvfY05AM9M0tSiKbLvd+r3ZbHyRUYdSrZBUs6NxHHs+Rn6SJFbXtf0BKxdRDY0J4/UAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;topology&quot; title=&quot;topology&quot; src=&quot;/static/8969c18cd10f47203e7fa5406175564f/26ccf/topology.png&quot; srcSet=&quot;/static/8969c18cd10f47203e7fa5406175564f/5243c/topology.png 240w,/static/8969c18cd10f47203e7fa5406175564f/26ccf/topology.png 479w&quot; sizes=&quot;(max-width: 479px) 100vw, 479px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Execution of procedure could look like this:&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:681px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:54.58333333333334%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz11SXY+jMAzs//97+9SnolOr7VFKAknIN7NjV3CnRTKJAx6PJ3PZtg0SOWf03lFKQUrpPJOQfQhBzyWPMWoua86f/yVf1xUXAZDEe4/7/Q5jjH6IUizgAlorCxNaq2xaUWs5Q/LWin4X4IuwEkBrLcZxVMAX1+Ic7POpsS8LYkhs0lnU4VzEMDxYVzSPsZGQADdc5FXJYN93HM/Os05mnkz9uqDlimkqbNqxLDter4jr9YF5rsw7STS831UnUEAZW0AlNKc2Oxk+hwHftxv3HsEllCoaC6NMAEN2hXnTyPlTfwLKekSVnKDbYrEJQ+prTYaxDcva8XcM+Pq6ETQrw3luZP2L4QlITWvKoGBYyWKZ3hy/wbCYuiNHYAsc8+1VO5aqjin9Yvj/yLmwc7RY0gJXOLp5Yvi+Yc2rntlk8A4W3jU6YyLDSGe0f4ASctvHU2iHNTn4TO1KwOxmPMaH7n1msMnLOL2M6/UP3RF0dAUUIPGdmFd8KPbxm8ccZqRKq9QItzlMdtJ9LBI0OjWWy4iUppR6TqmAYmoxpePNivsL3d9bV9ay7n1XWx25xGeqdp4fk/4A5M1WZicYCF8AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;callseq&quot; title=&quot;callseq&quot; src=&quot;/static/db49008dcb7ea2ae9b8b4f514dc0d452/ad007/callseq.png&quot; srcSet=&quot;/static/db49008dcb7ea2ae9b8b4f514dc0d452/5243c/callseq.png 240w,/static/db49008dcb7ea2ae9b8b4f514dc0d452/ab158/callseq.png 480w,/static/db49008dcb7ea2ae9b8b4f514dc0d452/ad007/callseq.png 681w&quot; sizes=&quot;(max-width: 681px) 100vw, 681px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;style data-emotion-css=&quot;1pkeg2w&quot;&gt;.css-1pkeg2w{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);margin-top:1rem;}@media screen and (min-width:640px){.css-1pkeg2w{font-size:1.25rem;}}@media screen and (min-width:768px){.css-1pkeg2w{font-size:1.5rem;}}&lt;/style&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Intra-microservice Orchestration&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;If a microservice is organized into modules or layers with clear boundaries, there could be orchestration within microservices too.&lt;/p&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Orchestration View&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A view of intra and inter microservices orchestration is depicted in diagram below.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:831px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:42.083333333333336%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+UlEQVQoz22RyYqEQBBE6/8/TvDiTdSDqLjvu9m8hGzsYYTo6orIyK3cdV1imOdZzvOUNwf4lmWR4zjkvu8fjTs+4x0/z/OoIU1TPbm/DSTK81y6rvvR/vM5OpqmSatUVSXDMMg4jt+K27apjoET2BR44DkBPkdAkiRKRFEkfd9LHMeaiK8sSw1smkaTUdRGzLJMExZFIfu+SxAE4gjGBEFV63BdVw0mEUXQ4dq21TgrwslKKEacoyt2YNXCMNRdMVZd119wR6dDEtKVaeyOQsCRnWDbC3d7jDcYE80exXh8aMY5W7QB8S8HfN/Xl34/Dv/p0PM8HR/vBytaahZh7PkGAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;datamodel&quot; title=&quot;datamodel&quot; src=&quot;/static/339e8cb18d978ae31cb5b3fc30f0348e/986c4/datamodel.png&quot; srcSet=&quot;/static/339e8cb18d978ae31cb5b3fc30f0348e/5243c/datamodel.png 240w,/static/339e8cb18d978ae31cb5b3fc30f0348e/ab158/datamodel.png 480w,/static/339e8cb18d978ae31cb5b3fc30f0348e/986c4/datamodel.png 831w&quot; sizes=&quot;(max-width: 831px) 100vw, 831px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;
Fig: Op Data Tree&lt;/p&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Design&lt;/h3&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Data Model&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A business procedure is modelled as a tree of operations (&lt;em class=&quot;css-0&quot;&gt;Op tree&lt;/em&gt;) that spans within and across microservices. An &amp;#x27;operation&amp;#x27; is a unit of work.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Running a procedure generates data. &amp;#x27;Operation Data&amp;#x27; (&lt;em class=&quot;css-0&quot;&gt;Op data&lt;/em&gt;) is the data created by each operation during a run.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&amp;#x27;Operation Data Tree&amp;#x27;; (&lt;em class=&quot;css-0&quot;&gt;Op data tree&lt;/em&gt;) is a tree of op data created with the same structure as op tree. One op data tree is created for every procedure run.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;While op data differs for every type of operation, below common attributes are prescribed&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Unique operation invocation identifier.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;State (Say - InProgress, Failed, Success, Expired)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Parent operation identifier&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Child operation identifiers&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Root operation identifier&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Error&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;When we have op data tree, there is no need for a separate state machine. The tree itself serves as a consolidated state machine. This is so much better than having a single state machine in each microservice.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Microservice API Model&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;To effectively implement sagas, we define following API model.&lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;APIs must allow callers to set a timeout period, beyond which a callee ceases to continue with any further actions associated with the API.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;APIs must succeed or fail within timeout period. Else, they are considered to be &amp;#x27;expired&amp;#x27;.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;This is inline with states of op data (see above).&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;If required by callers, a microservice must provide an API to reverse a performed action.&lt;/li&gt;&lt;/ol&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Op Manager&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;An operation manager is an entity which performs actions associated with an operation. A framework creates this manager as soon as someone creates an op data and requests initiation by dispatching an event.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A unique op manager type exists for every unique op data type. For e.g., &amp;#x27;SendOTPData&amp;#x27; OD class is associated with &amp;#x27;SendOTPManager&amp;#x27; class.&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;It manages the life-cycle of an operation.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It reads and writes to op data it is associated with&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It performs any number of local actions such as calling other internal APIs, etc.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It invokes at most one external API. (If more than one API needs to be called, the operation must be split into multiple)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It can delegate by creating any number of child operations.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It enforces timeout period.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It concludes result of operation as success/failure/expiry.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It notifies manager of parent operation with result, as an event.&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:624px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:58.75%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABaElEQVQoz22S666CQAyE9/2fx/+8BhjFKxoNKuANRaj5mjMG8ZBU1tJOpzMbzuez5Xlup9PJmqaxtm3t9Xr9RNd1drlcLEkSWywW9nw+v2p1DmVZ2nw+t6IovIgkwCoit9vtbLPZ+Js6ev4b6oA03O/3D8hwIqzYAECAeOq6/qknwAr29wzp87GqKrterx6AEJwB49yv1xO2262vIv3QCsawud1u3vB4PDwnHflGjnoCH9hgNBpZWC6XRlAIK8whaNB0GggYx3HsmiODgPf7va1WK4uiyAIJ2PFxvV4bjFkLNtLlcDh4HhCY9nXlDQb1vjJa8AfA4/HoLOS2HAeE9TlrEG6TkywfU/hhAlMlNkUySYILiP8MIIZ30a8NALDSKnqrWcOkqYxhKNKIubYJGEDBdDq1NE09yerkAUS78XjsWgGGOZgA0Gw2s8lk8sXUXUY/XXCaAOMqZVn2uTIM4izzAJW+/Uv+BpMpoJPTQpcFAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;opmanager&quot; title=&quot;opmanager&quot; src=&quot;/static/7c374be34c8738e98cb7c7d47144c311/6ee7c/opmanager.png&quot; srcSet=&quot;/static/7c374be34c8738e98cb7c7d47144c311/5243c/opmanager.png 240w,/static/7c374be34c8738e98cb7c7d47144c311/ab158/opmanager.png 480w,/static/7c374be34c8738e98cb7c7d47144c311/6ee7c/opmanager.png 624w&quot; sizes=&quot;(max-width: 624px) 100vw, 624px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Fig: View of op manager with associated op data&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:626px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:56.666666666666664%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACCklEQVQoz1WS647aMBCF8/7vUvVvRReB2gqhVUVV6LZLuZRkgdxDEhs7F9tnxybqLrZGjiczZ8af7SnVQzQSPEnAtn/BqhJdp6DUzfquQ5Hnbs2zDG3bQGt9+9/3N1Nv8d58M8Nz8BtVzVCyGpeiwvfpElXOYGh2lLAPAlScIzidIZt3gsZAAfeCQeajFCU44yiKHF3TIfJTCC6hKbira5TrZ/TnE8ThH1qK0YZESLRNYrTkvxOkJlxFQ9WsKa1cZ7RxgjzwUU/H+PPxA/LxCMXyJ4SUVKhC+mWKmHyKM8oz7vher94Y9AMPW4AzhpSYNWWJ7GkFQcJ8t4VMUydoY5qQELwEdxy99+06USqgjUZKiQGxc6KUYGy3JBRbvx8gI78djqNl2g+C2gIZjq2Udt/iKmGUcVytsMNhmbUtzpalFGRXEur/X5Ax2pnHJUNYndF0xEV1OOdHnLIjUpYgLRPXRUdPRggBW43XAmGQoM45srBAK1t3orrgYJcrvF2yweflCGF5BJMVHv05Hn6MMF49YJOunWBCb3SxWKBpJdKXC5Zf1/j26RFPsy0ucQXJG6xma/yab+BVooKfH6jDBi2ZXxywj3fYJzvEdeQEoyjCZDLBVVzBL9ThPsVxFyI6ZOCVcJcZBznSYwHP8rHDEEtNLHDbDj7tGNkESRdiV8dqCLKrPa4efHa+AkegSip/6bn3AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;opmanagerlifecycle&quot; title=&quot;opmanagerlifecycle&quot; src=&quot;/static/763c96576c8c1afd87a45c597bd46a91/2c45b/opmanagerlifecycle.png&quot; srcSet=&quot;/static/763c96576c8c1afd87a45c597bd46a91/5243c/opmanagerlifecycle.png 240w,/static/763c96576c8c1afd87a45c597bd46a91/ab158/opmanagerlifecycle.png 480w,/static/763c96576c8c1afd87a45c597bd46a91/2c45b/opmanagerlifecycle.png 626w&quot; sizes=&quot;(max-width: 626px) 100vw, 626px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Fig: Life-cycle event flows with op manager&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Modus Operandi&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Putting all together, an op tree is executed as follows.&lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Op data for top level operation is created in database. Say OD-1.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;OD-1 is initiated.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;An op manager which can handle op data is created.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It does these things&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Optionally, it invokes one or more local service APIs&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Optionally, it invokes an external API and gets result (Success/Failure/Expiry). This alone may determine the result of this operation or it may be preceded by, succeeded by or sandwiched in-between one or more child operations.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It runs child operations (if any) sequentially. That is it creates and initiates a child OD and waits for result from its OM before proceeding to next child operation.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It can run child operations in parallel as well.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;It responds to failure of child operations by creating yet another child operation dedicated for reversing any previous operation(s) (if the operation is transactional in nature).&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This is recursively applied to each and every operation.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Programming Model&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A model to implement an op manager and child receptors is to use class and nested classes as shown below.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:423px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:102.50000000000001%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACLElEQVQ4y32VV45CMQxFs/+1IT5A9I7ovXcwOh7dJ8NoJpLxS+xc95Cez6edz2ebzWa22+0sn89bqVTys/l87ufH49F6vZ7Tfr+3y+Vi3Hs8Hr8o8XO9Xm29XtvhcLDJZOJAfG+3Wwe73W4OdDqdXN5oNIwF6Dc5IB9cAvh+v7slvOBbiizOARwOh9ZqtdzoZrNxw3AMpuiuwojhyAAc4vJiscg8xwnx5XL5CfgfyUuBsl6vl8tYg8HAcrncDyCCmAftI6dIhEQuyTHf8hIdjHS7XUtYJBcoSOmbQxEEfQzQFRjAIIvzpPZASLKn06kTyRcfjUYuJ/H1et2q1arrspAjo0uQJ6oZW4O1Wq1ciCKhQPQjHnKGnDvos1cuvW0A5FAcIdYwEKusFCDr9/uuT4jSyxobAZYouwDxTj0YK6xeBEgrtljmocYJQCVXigKmLaDxeOwjSA7JrXQVyYeHcC4Ui0VvUvUdXjebTSsUCj52tVrNZx4O4J85JNmdTscbFI6iPESmSEgJnIlRH354KCu0EIvkx+GnEBRFHis1gGEILi+TXhrcL5fL2cuDEkQKMCBwjNNC2mOAfsX7LGT6rN1uO2isMiEhU/UxwBlyVRpjeAkRoY+ePCAs9SF7JoipkHVCotIUhst69phhcg5WYpSooOYyTgpEOOo/FkA6UwdwV12R8KBSqXjVONS46eHUeIk4IyKARHipfkxsGHDA9B8CF2kfOXmMpP8dwN/Mt1Iz9N3YIAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;opmanagerlifecycle2&quot; title=&quot;opmanagerlifecycle2&quot; src=&quot;/static/d6a93b5a41183c5d0d1f693ba7d58c42/7e2cd/opmanagerlifecycle2.png&quot; srcSet=&quot;/static/d6a93b5a41183c5d0d1f693ba7d58c42/5243c/opmanagerlifecycle2.png 240w,/static/d6a93b5a41183c5d0d1f693ba7d58c42/7e2cd/opmanagerlifecycle2.png 423w&quot; sizes=&quot;(max-width: 423px) 100vw, 423px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Life-cycle event flows with op manager&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Diagram below shows a model of a class which implements an operation manager.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;At a high level, it has the two sections&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Part which handles the invocation and handling of responses of internal or external API calls.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Child operation event handlers.&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Although the child receptors can be created in a separate class, putting them in inner class provides a unified view of the operation manager in a single place. This is especially the case since most of the meat of the operation activity is in the details of how it handles child life cycle events.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The inner class also depicts the parent-child relationship and helps comprehend an operation manager in a much easier way.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:251px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:183.75%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAAAsSAAALEgHS3X78AAAFe0lEQVRIx6VWiXLaSBD1///A7tYm8Qkxp218cIsbJHEJhABzI4xkYXDsDXGy8fG2ZziSOE5qU1HVq+np43XPTGukjeruNuoeF4anx2h63ai7nWgdeNAgXevQy8fz5ZzZi7Zdbm8vbV3fIf5JJfA+k8IsFMBG1bmPjN2GcyKUHftI7GyhTI5Z+x7UowOOJCXNk1+JkjG5RPbkzjaEzTcYCRHcV8q4VyuYZ9PY+JjL4N9SAXMxiztZxMe8tB4/0DiXclxe6T8VZD4ufES8p7hrqvCGeG6TcWxM41EMtBpmIx1Xgz5h8AXDJQY/AdmvKdbodmDGooxQwLubG/zu8/H+HsaiQgGzqyuufCDlw8MDHn+Ah6/wtQ5PT5h/+AAzsSS8ns1+u8K7T59gJGLYuKYyTcNAp9vFaDSCpmno9/vQdR0D2qNerwfTNDmazSZarRa65MtsDLlcDjVV5dt2SYfDCY3xGDlRhCRJCIVCUBQFpVIJ0WgUhUKBJ2FkkUgEqVSK69LpNKrVKveTZRn6xQUmmfTLS2ZBLLhcLiMejyMcDnM0Gg1uY4kEQcB8Pv9+yfxQplOufHx8xOfPn3FFhzSjJLe3t1y2LIuPN7Qspjdoi6YUc0+HyGLYM7+7+3IoK8InOq1ffVYxjNBIPGsb1gZPlHHdKo/PWufZnPuuKqS2WRO+o6X9dmNTAt7Y17SROr3Lk0YNlqZyXNaqMKrK/4ZJF4OulGCxV+9dOoZiMQhJ9FPb+KkFAnS6UWj1FOqN9DdgukYzw+XVyEH6WiMFK8Pe5aQAW2APbw63sXtqw2vvJo6zp6hN6sgPSyiOqCcvFBT0EqqXNciDIp8zW3lc4faqWUPZqmKcE7AxSwlwheywn9oRoCq3iHDPt4t4JYbdox28cvwNZ2AftuNd7BxscdsOJWfY9Lzh/p6wCzFVgMkIWYUewYktcmYEvuQRbCd7cEfcOIwfcAJ3xAVH0MF1dlrFvv8taqYKjSpmI4NilGGsCSMO/GX/E9uUzUWBLPtr5yu4w06ehFXiDjnJz81trKqdwy1Uael1ItVoydXLyoLQioUQKgch9vLIdSSIXRnZtgSJ5vlhkY9iT0ae9k7qF7g908ohfZ6Faml8rxmUibqsMBGF2kigR5veGRS+QbufR6f/vdwl8i4la3UlnBNalKTZE2Fl6ZRvkwmMsmUM0wVCEXqmhBED6Z5DX+m/s9M8V8EsTtfXjG6TY0cILtsJvPYzuPZOkAzSddScoq9ZGDYmGNQZLIzOZ6S7XOvYXG9e0ThFrzaBFc/Qm0KEPiLy2nyIn6Zhf+3E0dtTKGkNB/ZjuHcO4feE4ds/w4kzwG0Mru0DOLe9HEFvBIWEikkis6jQ74rAvXvEg4IHApcjvgQC3igP8Hsi8Dn8OCL7IZExnJf60OQ2NKmFRqGDZnGwqJATOsPY+mOPV3fmDsNFVdleOXDiCvJK9jfdnJBV6tjyEBZJhpqJC1r+RcNCv2YSId3YV0IUidMcstESRKEMKa4gGylyuUTLluMViLGFXEiqkGIK0uE84v4ceuqYvukmR1ddEk7pKm9mG5icWzA1A2bdwGXd5DC0MZ8zMNlY2RsU3LjEqKpjVNH5OFR0TBjhDbVNJ0a9FM2h/YvoCOIabeK4ivELNg4x20a5NEKpOCTov4ghxeqQ5AH06LIP5VwbSnkEhYwKGb8BC1jiR/YKjXkiHK0JqUJmXActA9m8QolqVQNa1eRyeUW69Cv/X8IVmUTVhwIyAmcil9ekPyKc/oyQdLLYRjRcRCSY53LlRb8hEfYXhNf0JyCJPfr9GNO35OI7KJUxVNWCWrO4/KIPxcoFHResbawTH7qnIXROgui+gA5HYImXfbgfcRjHPvwHZoQQ/ipdsdEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;programmingmodel&quot; title=&quot;programmingmodel&quot; src=&quot;/static/c59bd519b9016066ad6341499b5ae036/fe9a0/programmingmodel.png&quot; srcSet=&quot;/static/c59bd519b9016066ad6341499b5ae036/5243c/programmingmodel.png 240w,/static/c59bd519b9016066ad6341499b5ae036/fe9a0/programmingmodel.png 251w&quot; sizes=&quot;(max-width: 251px) 100vw, 251px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Examples&lt;/h4&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;&amp;#x27;One Time Password&amp;#x27; Example&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Requirement: There are two ways to send OTP to user - via SMS and/or Email. Sending OTP over email if sending over SMS fails. Do not send OTP over email if mobile number is invalid.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;It begins with some part of the system initiating OneTimePasswordConfirmationManager. onInitiate() is chartered to do the work of a sending OTP. It first creates a child transaction PurchaseOTPNotifierOverSMS and schedules it. The input parameters for sending SMS are put into the transaction before initiating.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The transaction manager associated with PurchaseOTPNotifierOverSMS does what it is supposed to do and conveys the success/failure/expiry to a dedicated handler setup by OTPNotifierOverSMSChildHandler.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;If sending SMS fails, sending email is attempted. If the reason for SMS failure was an &amp;#x27;Invalid number&amp;#x27;, the transaction is marked as failed immediately.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;prism-code language-java&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;OneTimePasswordConfirmationManager&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;IOperationManager&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onInitiate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//create otpNotifierOverSMSData&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;// otpNotifierOverSMSData.setInputData(MSISDN, ...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;// otpNotifierOverSMSData.setExpiry()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//SchedulerHelper.schedule(otpNotifierOverSMSData, expiry)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;successResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ErrorDetails&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after an operation is successful&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;failureResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ErrorDetails&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after a op has failed&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.    &lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;validityEnded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after a op has expired&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;handleEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//A result of an operation done in handleTxnInitiate is delivered to this manager &lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//e.g., callback, a message from message queue etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Based on contents, op manager can mark itself as successful/failed&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token generics class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildOperationEventHandler&lt;/span&gt;&lt;span class=&quot;token generics punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;getChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; opType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//return dedicated &lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//return OTPNotifierOverSMSChildHandler and OTPNotifierOverEmailHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;OTPNotifierOverSMSChildHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildTxnSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//markSelfAsSuccess(Operation, result(childOperation.getOutputData()));&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;43&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildTxnFailed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//result = childOperation.getOutputData()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//if result says that MSISDN is invalid, flag as invalid account. Else try email&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//if(result.error!=Error.INVALID_MSISDN) { //Say, we don&amp;#x27;t want to have accounts with invalid number&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;47&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;tryEmail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//} else {&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//op.setOutputData(Error.InvalidNumber,...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//markSelfAsFailed(Operation);&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;tryEmail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;57&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;tryEmail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//create purchaseOTPNotifierOverEmail&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//otpNotifierOverEmail.setInputData(email, ...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//otpNotifierOverEmail.setExpiry()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//SchedulerHelper.schedule(purchaseOTPNotifierOverEmail, expiry)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;63&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;OTPNotifierOverEmailHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildOperationEventHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;67&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;68&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;69&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//...&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;71&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;72&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpFailed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;73&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//...&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;74&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;76&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;77&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//...&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;78&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;79&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Order Failure Example&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;An e-commerce order example. Wallet credit is reversed when delivery scheduler returns with error.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;prism-code language-java&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;OrderManager&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;IOperationManager&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onInitiate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//create WalletCreditOp&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//walletCreditOp.setInputData(amount, ...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//walletCreditOp.setExpiry()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//SchedulerHelper.schedule(walletCreditOp, expiry)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;successResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ErrorDetails&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after an op is successful&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;failureResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ErrorDetails&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after an op has failed&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;validityEnded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//This is called after an op has expired&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Update db fields, cleanup of resources etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;handleEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Event&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//A result of an operation done in handleOpInitiate is delivered to this manager&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//e.g., callback, a message from message queue etc.&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Based on contents, op manager can mark itself as successful/failed&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token generics class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token generics punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;getChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; opType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//return dedicated&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//return WalletCreditChildHandler and DeliveryChildHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;WalletCreditChildHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//create ScheduleDeliveryOp&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//scheduleDeliveryOp.setInputData(amount, ...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//scheduleDeliveryOp.setExpiry()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//SchedulerHelper.schedule(scheduleDeliveryOp, expiry)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;43&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpFailed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//markSelfAsFailed(op);&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;47&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//markSelfAsExpired(op);&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ScheduleDeliveryChildHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ChildLifeCycleHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//...&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;57&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpFailed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//delivery not possible to this address&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//create ReverseWalletOp&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//reverseWalletOp.setInputData(amount, ...)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//reverseWalletOp.setExpiry()&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//SchedulerHelper.schedule(reverseWalletOp, expiry)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;63&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;@Override&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token function&quot; style=&quot;color:rgb(130, 170, 255)&quot;&gt;onChildOpExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; childOperation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;throws&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;token comment&quot; style=&quot;color:rgb(99, 119, 119);font-style:italic&quot;&gt;//Retry: Create another ScheduleDeliveryOp until max attempts&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;67&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;68&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;69&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color:rgb(127, 219, 202)&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color:rgb(255, 203, 139)&quot;&gt;ReverseWalletCreditChildHandler&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color:rgb(199, 146, 234)&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Design Benefits&lt;/h3&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Overall the design provides below benefits.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Evolvability&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This design allows high evolvability between parent and child operations, due to below factors&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Child op is not aware of the parent&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Op tree can be constructed dynamically&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;An operation is initiated via an event&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The OTP example is a good illustration of this benefit.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Reliability&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Since APIs have timeout, caller and callee can be resilient to crashes, communication disruptions, planned/unplanned down times.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Caller can identify an unresponsive API predictably, and recover from there.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Implementation of callee becomes simple due to the fact that it does not have to deal with slow progressing or dead-locked operations since it can fail such operations at timeout and avoiding long running APIs and pile up of operations.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Error resilience is baked into the system and can be easily enforced, through code scans.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Extensibility&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Highly extensible.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;New op data and op managers can be added to system which can enable new functionalities.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Simplicity&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The procedure model, API model and programming model are all close to domain model and are applied recursively across the whole system.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;With the same design pattern repeated through out, there is lesser cognitive load for developers.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Also, with op data and op managers confined to a smaller concern, complexity is reduced.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Reusability&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Op data and op managers are highly reusable. They can be used in combinatorial fashion like Lego bricks.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Visibility&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The Op Tree provides high visibility into the complete structure, progress and data of business procedures.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Op tree has the additional benefit of being presentable in UI, since it has several common data attributes.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Once available in UI --&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Business teams would be able look at the Op Tree and easily comprehend everything, after all, the op data tree closely matches business process.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Development teams would be able to look at the current in-progress operations as well as the detailed errors of individual failed operations.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Support teams would be able to look at the tree and point to specific operations&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;References&lt;/h3&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;https://microservices.io/patterns/data/saga.html&quot; class=&quot;css-1od09yo&quot;&gt;https://microservices.io/patterns/data/saga.html&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[REST (Part-2) - API Guidelines]]></title><link>https://pchethan.github.io/rest-part-2-api-guidelines</link><guid isPermaLink="false">https://pchethan.github.io/rest-part-2-api-guidelines</guid><pubDate>Wed, 24 Jun 2020 18:30:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1bkk5q4&quot;&gt;.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;If you have heard of REST, you might have also heard of debates as to whether an API is RESTful or not. The disagreements typically range from URL syntax, naming resource, choice of HTTP methods upto how HATEOS must be implemented.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The dissertation&lt;sup id=&quot;fnref-1&quot;&gt;&lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; only provides high level guidelines and does not dwelve into the nitty-gritties of url construction, syntax/nouns/verbs etc. Its not that its unspecified, its that it does not matter as long as you ensure that you construct APIs with &amp;#x27;Uniform Interface&amp;#x27; constraint, without violating the other &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm&quot; class=&quot;css-1od09yo&quot;&gt;5 network architecture styles&lt;/a&gt;. Ultimetely constraints exist to yield benefits, and benefits are the ones that matter. Everything else is about following conventions (at your org level or something that a big organization has formulated &lt;sup id=&quot;fnref-4&quot;&gt;&lt;a href=&quot;#fn-4&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;), not abusing protocol like HTTP, etc. Here are the benefits:
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:720px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:92.5%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAAChElEQVQ4y1XUhW4tMQwE0Pz/F1VlZmZm5qqMfjqWXPWt5OtNNh7P2M5tvb29sbq6GsfHx3F+fh7r6+sxOjoaY2NjMTg4GMvLy3FychJHR0d5hr+8vIyrq6v0FxcX/1mbnZ2NmZmZmJqaiufn57i+vo6dnZ04PDxMX7a7u5vJtre34+7uLl5eXuLj4yM8Pz8/8fn5mdYc2t/fj6enp/wAaGJiIqanp9MmJydjbm4uFhcX00tuDxGJzs7O4vT0NMG+vr6i2bi9vU12NskCJADrhYWF3Cu5gguk9gvj/v4+GhDP9/d3+oODg+jq6oqhoaEYHx+PkZGRmJ+fT+abm5uxt7eXnmFozZSCNY1Q4Pf39wTUAGAaQyL5JJJqjaUzGlDv1VCsmx+LAvS+srKSwSSrHflYLi0t5bcygIBJFndzcxOtOkU62bKRyrDiAQPFVqKtra2UiUzVEtPssoUsr6+vCexgd3d3DAwMRE9PT8o3q2ays7Mza4q1+QSOuTmupA1tdN/e3n5riBlgidSXFPNZw+y9ul3DLQ5Og6wBRoV8B0gym9jrumC+1HhHhEfE/CkXa39nS2MEoc7IUjfvGiJpDTe/sbHxO0qAxScgNobSA9gwq4tOClAza7eKl4jVyJHLcrDVw73UFF0ynB0dHclIIra2tpYGXDkkcrcxBAwUzsPDQzQfsHKPPeQPDw//3mVsrUlUjrodYiSXAKDaItYqs076g5AAQNXu700RTDJm5Jd0ZfMPxFrdS3Q9WPT19SWoGTSLgjFzjtxqhn2EMHbXUzJ09C2034caXFbXDACJVUdWexKoucY06ApPfw02dq4cuf39/cnAfs1jdbX+xesP4vHxMf4Bcgtam/krgAoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;restpros&quot; title=&quot;restpros&quot; src=&quot;/static/a0c0faf24eae7e1d16987c83547c0fd4/eefce/restpros.png&quot; srcSet=&quot;/static/a0c0faf24eae7e1d16987c83547c0fd4/5243c/restpros.png 240w,/static/a0c0faf24eae7e1d16987c83547c0fd4/ab158/restpros.png 480w,/static/a0c0faf24eae7e1d16987c83547c0fd4/eefce/restpros.png 720w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The key part of REST API design - &amp;#x27;the identification of resources&amp;#x27; is subjective. Its a design activity that depends a lot on the domain. I don&amp;#x27;t want to get into definition of resources/representations. They are already well defined &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2&quot; class=&quot;css-1od09yo&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Assuming that we have the resources identifed, what does a RESTful  interface look like, as per the dissertation (which says that you can use any suitable protocol and HTTP is one of them)?&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Guidelines can be deduced from the 6 constraints.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The second column in the table below captures requirements (relavent to client-server interaction) from each of the 6 styles. The third column captures what an interface must have to be able to address those requirements. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:947px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:88.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACaElEQVQ4y22USY/aQBCF+///jRwizSFRchlprlEOEIHZEZvZbbPYmH2nhq+kslA0lkqmu6tev1f1jJtOA1mv11Iul2U6ncpqlcpkMpEwDCUIAqnX61KtVqVUKonv+5I+cw/7g/SDnrwXfsjvv2/y9vFNfv75Lh/eL3G73U4IkpfLpf4eDocKOhqNJIqiDJzf+/1erterxHEixX+elL2K+F1fomAmq2UqjoTL5SKHw0Hf2+1WOp2OAgAEa8LWs9lMFVEXRqHuxUksm+1GbreruPP5LK/P8XhUhgBTxHuz2YgpSdNU93j3+31VMR6P9U2eO51OKsEYAtJut6Xb7WaJXEAxzGFogL1eT9sAe1qUJIk4GAHGAUkA5vN5DStA1nw+fw5s9ZR1UyXIrtVqGoPB4NnTWGuV4f+SGRBsCJJhSQHM7AGQ6eMCzhmoMgTw8XjI/X7XRNhikUqlolKtj7CnR6zJARAgk0qw5zikh0gBmE0A6SOAFNE/sxJ9pQ3UGTiDhRihtuGBAUNBsgEgHcmsAeEcJVzMxG0fEvQXJcqQBJPO2uzwCmj24CLkkffV44wZN3ELN1OwWCy00QwDBuS99oo88yjBXuZDmOElrMG60WhILpdT6xSLRWm1WhkQRbQFMCyDXyFj9nKw47HPDEaAYAeAsQaFyEcyzAEjjxwAaQlvzhys6A9h3zCAJHHGzSTaHwST5k00m00NMzdtcMigwDzF2vM8tU6hUNBkLERwIUxtunYp9TBmUJlkDvnUuJmecTOSzY82cQDwHWxYM0hI0ONsKDzWD/tGDZB9vhoCcLMLeeTYGepwwifevTv/S0NydgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;interfaceguidelines&quot; title=&quot;interfaceguidelines&quot; src=&quot;/static/26851cce97e83e98650ec7a920bca16b/b3c00/interfaceguidelines.png&quot; srcSet=&quot;/static/26851cce97e83e98650ec7a920bca16b/5243c/interfaceguidelines.png 240w,/static/26851cce97e83e98650ec7a920bca16b/ab158/interfaceguidelines.png 480w,/static/26851cce97e83e98650ec7a920bca16b/b3c00/interfaceguidelines.png 947w&quot; sizes=&quot;(max-width: 947px) 100vw, 947px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This is almost close to Roy&amp;#x27;s clarification on his blog&lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;While designing APIs, there are always cases where neither the thesis not the his blog help. Then, its best to make a choice that does not violate the 6 styles or loose any pros induced by them. Ultimetely, &amp;quot;...lities&amp;quot; are the ones that matter.&lt;/p&gt;&lt;div class=&quot;footnotes css-0&quot;&gt;&lt;style data-emotion-css=&quot;13l3oqy&quot;&gt;.css-13l3oqy{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;hr class=&quot;css-13l3oqy&quot;/&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li id=&quot;fn-1&quot; class=&quot;css-0&quot;&gt;Roy Fielding’s dissertation: &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&quot; class=&quot;css-1od09yo&quot;&gt;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&lt;/a&gt;&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-2&quot; class=&quot;css-0&quot;&gt;Roy Fielding’s blog on RESTful APIs: &lt;a href=&quot;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven&quot; class=&quot;css-1od09yo&quot;&gt;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven&lt;/a&gt;&lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[REST (Part-1) - A closer look]]></title><link>https://pchethan.github.io/rest-part-1-a-closer-look</link><guid isPermaLink="false">https://pchethan.github.io/rest-part-1-a-closer-look</guid><pubDate>Thu, 18 Jun 2020 18:30:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1bkk5q4&quot;&gt;.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;In the context of web services, the term API almost always refers to REST API. It is at the heart of most cloud services we see today. Creation, maintenance, and evolution of REST APIs is one of the most important design activities in web service development.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;For something that is so ubiquitous, there are countless articles, videos which are inaccurate and contradicting. To this day, Roy Fielding’s dissertation[1] and his blog[2] serve as the only authoritative references. The good thing is that both the dissertation and blog are easy to read and understand.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;I wanted to talk about different aspects with some reasoning for each.&lt;/p&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Briefly state first five REST constraints&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Look at their consolidated benefits&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;When do we stand to lose benefits?&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Notes on Uniform Interface&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Compare Resource with a façade interface&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Why HATEOS is important - its adoption, applicability for a medium size org.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Disadvantages of REST&lt;/li&gt;&lt;/ul&gt;&lt;style data-emotion-css=&quot;170hkfz&quot;&gt;.css-170hkfz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-170hkfz{font-size:1.875rem;}}@media screen and (min-width:768px){.css-170hkfz{font-size:2.25rem;}}&lt;/style&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Prerequisite&lt;/h3&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Before you proceed, its probably best to have some background on REST APIs, and know what an &amp;#x27;architectural style&amp;#x27; is.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;An architectural styles imposes certain constraints. Terms &amp;#x27;Style&amp;#x27; and &amp;#x27;Constraint&amp;#x27; are used interchangeably here.&lt;/p&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Outline&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Briefly state first five REST constraints&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Look at their consolidated benefits&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;When do we stand to lose benefits?&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Notes on Uniform Interface&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Compare Resource with a façade interface&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Why HATEOS is important - its adoption, applicability for a medium size org.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Disadvantages of REST&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;6 Constraints&lt;/h3&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;REST is an architectural style for designing &lt;em class=&quot;css-0&quot;&gt;communication&lt;/em&gt; for network-based application software.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;It is an aggregation of 6 architectural styles, which, together, synergistically provide internet scale to any network based application, by powering the communication between components.&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Client-Server +&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Statelessness +&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Layered Systems +&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Code-on-demand +&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Cache +&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Uniform Interface&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Five Constraints (LCODC$SS)&lt;/h3&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Roy Fielding chose 5 network-based architectural styles/constraints out of the many that he evaluated for their merits and demerits. Brief description of styles:&lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Client-Server (CS):&lt;br/&gt;
Separation of concerns — Client is concerned with UI &amp;amp; everything else is a concern of server.
Server provides services on request.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Statelessness: (S)&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;State per client occupies space in memory and disk which are at a premium on servers. This prevents scaling. Interfaces are designed such that server never holds any data for future requests. Requests and responses therefore include all the information required.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Layered Systems (LS)&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Multiple systems could be layered between client and server. An arrangement of systems in a unix pipe like fashion could lead to feature rich systems due to composability similar that of unix.&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Systems participating in data path help with security and many rich transformation features (firewalls, traffic inspectors, parental controls etc)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Systems participating in routing help with scale (proxies and gateways)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Code-on-demand (COD)&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Download code that has the ‘know-how’ and run on client. The ‘know-how’ could be understanding server responses, rendering them and even knowing how to interact with server and get responses. Example: JS based web app.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Cache ($)&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Cache provides interface of a server and consumes interface of a server and provides caching in a transparent way. It can be part of layered systems or could be just a library at client or any layered systems&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;em class=&quot;css-0&quot;&gt;(I urge you to read further from Section 3 of &lt;sup id=&quot;fnref-1&quot;&gt;&lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; and the literature from where they are sourced &lt;sup id=&quot;fnref-3&quot;&gt;&lt;a href=&quot;#fn-3&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.)&lt;/em&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This is probably the best representation of five styles from the thesis.
&lt;img src=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#fig_5_7&quot; class=&quot;css-0&quot;/&gt;&lt;/p&gt;&lt;style data-emotion-css=&quot;rrejfe&quot;&gt;.css-rrejfe{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;color:var(--theme-ui-colors-heading,#000);margin-top:1rem;}@media screen and (min-width:640px){.css-rrejfe{font-size:1.5rem;}}@media screen and (min-width:768px){.css-rrejfe{font-size:1.875rem;}}&lt;/style&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Benefits&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;R. Fielding summarises his evaluation of individual styles and their combinations against various metrics in Table 3–6 of [1] (captured below).
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:622px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:113.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAFMklEQVQ4y01UW5MTVRAe9IVCLSj0QQpLH7QKEB/8Af4Jf4s/wAIWWVhACyyxSrFKLLkIyy6wi+x9k2w2mWSSTO6T6+R+v00yuW2y+/nNLAU+fNXd5/Q5p/vr7iMMJvvQxxPoe9O3oO0LRyFH41DUHLzUXYGQabsDYdoK2oMRBvuAPgX60wOCkrbw7UoSH/4VwhcPwzj3Txin74fxycMozt1z48s76/jqrg1nf7Pi41tr+PzXbXx6cwmfEef+dOH8Axnn/7DjDPUzd+04+7sNwjeLUQjfz+PobSuO37FDuDAP4eICTv28idM3XuDUjSWcurmMY7PP8dHVRZz84SlOXlnAidlnOH7pMU5cfIT3ifeof3DhEYSvH4chzG5CuO2A8IsI4Rr1uW0cvWXBsSvPzIuOUgqXl/HuxSc4MvMMRy4t4Mjl5zgyu4x3ZhYhXCIuvzgM5l68ie8sScxIBVz3VzEjE/4afpRLuOlMYM6l4id/GbPcv+rO4Yo9buK6r4RZTxFXRRVzcgXXpDzmPHkIheEUlnACcrGB9PAA/lIT/nITKhmPNHqmnSbjid4epGwZMm253EKStidXgTtTQqSumftJfQIhq+9hLRiHj47GQripI9Ia8MAY0dcXGoflSpt2F7FW30Sie7gfqXXMhw07WNMgRLt7WE2U4Chr8HUmWI/lsZUqwa9NINV62M3V4Sp3YC+04Cy14WkO38DbGpnwNEeQaLvrfQgVpuxh2IlmD/nBFBlGZkSd7xP6IXL6GDGmpTAaQ+bMtbfI/k8Xwp0xliIZWHNNvjLCRraBTepGBBJfdNd08+WNVBnOag8biSLtwWFEjQGsmRrc1K3ZOkT6CsatlkgSvkLNJN+mqNiJZZDmelIbQqWMkzO3WkKo2jYLk9BGSDGTJHkL17uIt/smj7EWL8zwwEtvBM5MGcnBASzxLKyJPKs2QYQFCvOyAMl252oIVDX4qx0o2pgYmTLOgvlY9Rj9jT0h2Ozjvt2LV2EVThbmiRjAwx0PHPkGXJUurGoFtkwV/4bT2GaxNpNFSEzVpITSyYLZcg3zrCGFIsm3MeVQuWGSK6ULJlSmm2Va8YaGaLUFhQgWqgjkK2bhjMwMpJhugqmmOn2kOwNG2BrisRjEllqFV5tijeRvpKtmCxlRuFgIR7ENsTE0i+KidDEyoyCmpM8OW8rQxVrfiHACazTNBm6wABOT4ER7gHR39CYKlTwZRTB80kYhyFWatlEwQxrFC3HNkIJB7Lzohy1bg9weYcEVJAKQql34Gb2LzewqtswWspFDmY1sp6+THLvp42uyhdguIv0kZiBEHbtYWVmDbWsbAZ8f66vr2FjbMHUlGoMkuiF7vLBbrBB3nZC9Pvj9QaTSGci+ACL8fEOhCBQljkhEgeB3OPB8bRtWhwtr2zYsvlzF/NIr2m6EEirsbh9sogeiLwgL1zzBKHYkGSKlO6jAH0tBCikQ/fzJowmm3D/AU08UdhLvZFqb+ZY5LS6mIXf2IDKtXZIutcdsi7o5NcZUONlSuzxjTJIxNa7X0yM0RmxItYBMq4dMh1woKfjSeWTbOqqc8xzXMk0NpT7JZ+uEskUkay0Yf0Cq3kY4X4ZSqiNLvzj3BS9vfSApWM3UYSn38Jddxt+OACwlDfaqDkuxg21GbatxXis6lmMFrCQr2Kn2scr2ehkvYj3XwlZRw2aBkzKaTBFNJNHUuuiPObdpFdlCEZrex5B7xv7eATCe7mNv/wDVRhPtno4xda0/QK3Zhj4aozsYYkSf/wBDQjZuZ6v59gAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;evaluation&quot; title=&quot;evaluation&quot; src=&quot;/static/a783ec51ec2cc82690116651cedee9aa/30196/evaluation.png&quot; srcSet=&quot;/static/a783ec51ec2cc82690116651cedee9aa/5243c/evaluation.png 240w,/static/a783ec51ec2cc82690116651cedee9aa/ab158/evaluation.png 480w,/static/a783ec51ec2cc82690116651cedee9aa/30196/evaluation.png 622w&quot; sizes=&quot;(max-width: 622px) 100vw, 622px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;em class=&quot;css-0&quot;&gt;Source: Table 3–6 of [1]&lt;/em&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The highlighted row &lt;strong class=&quot;css-0&quot;&gt;LCODC$SS&lt;/strong&gt; is evaluation for combination of five styles listed above: LS+COD+CS+S+$. The + and - indicate pros and cons which are described in other parts of [1]. For convenience, I have expanded the row into below table replacing the plusses and minuses with what they stand for. This provides a clearer perspective of contribution of individual styles towards the overall benefit.    &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;strong class=&quot;css-0&quot;&gt;Pros:&lt;/strong&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:720px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:92.5%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAAChElEQVQ4y1XUhW4tMQwE0Pz/F1VlZmZm5qqMfjqWXPWt5OtNNh7P2M5tvb29sbq6GsfHx3F+fh7r6+sxOjoaY2NjMTg4GMvLy3FychJHR0d5hr+8vIyrq6v0FxcX/1mbnZ2NmZmZmJqaiufn57i+vo6dnZ04PDxMX7a7u5vJtre34+7uLl5eXuLj4yM8Pz8/8fn5mdYc2t/fj6enp/wAaGJiIqanp9MmJydjbm4uFhcX00tuDxGJzs7O4vT0NMG+vr6i2bi9vU12NskCJADrhYWF3Cu5gguk9gvj/v4+GhDP9/d3+oODg+jq6oqhoaEYHx+PkZGRmJ+fT+abm5uxt7eXnmFozZSCNY1Q4Pf39wTUAGAaQyL5JJJqjaUzGlDv1VCsmx+LAvS+srKSwSSrHflYLi0t5bcygIBJFndzcxOtOkU62bKRyrDiAQPFVqKtra2UiUzVEtPssoUsr6+vCexgd3d3DAwMRE9PT8o3q2ays7Mza4q1+QSOuTmupA1tdN/e3n5riBlgidSXFPNZw+y9ul3DLQ5Og6wBRoV8B0gym9jrumC+1HhHhEfE/CkXa39nS2MEoc7IUjfvGiJpDTe/sbHxO0qAxScgNobSA9gwq4tOClAza7eKl4jVyJHLcrDVw73UFF0ynB0dHclIIra2tpYGXDkkcrcxBAwUzsPDQzQfsHKPPeQPDw//3mVsrUlUjrodYiSXAKDaItYqs076g5AAQNXu700RTDJm5Jd0ZfMPxFrdS3Q9WPT19SWoGTSLgjFzjtxqhn2EMHbXUzJ09C2034caXFbXDACJVUdWexKoucY06ApPfw02dq4cuf39/cnAfs1jdbX+xesP4vHxMf4Bcgtam/krgAoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;restpros&quot; title=&quot;restpros&quot; src=&quot;/static/a0c0faf24eae7e1d16987c83547c0fd4/eefce/restpros.png&quot; srcSet=&quot;/static/a0c0faf24eae7e1d16987c83547c0fd4/5243c/restpros.png 240w,/static/a0c0faf24eae7e1d16987c83547c0fd4/ab158/restpros.png 480w,/static/a0c0faf24eae7e1d16987c83547c0fd4/eefce/restpros.png 720w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;strong class=&quot;css-0&quot;&gt;Cons:&lt;/strong&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:721px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:13.333333333333334%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAmklEQVQI11WOuw6FIBBE+f/PUsAHotGShA4bReOjMFZjZpNb3ILsLnNydpX3HvM84zgO1HWNpmngnEPXdbDWSp2mCeTatpUsxoht27AsC3LOWNcV13WJQ4UQJHieB33fi0BrjaIoZAEfxayUMmdPhjyXGGOQUsJ931D7vuN9X5zniaqq5EIChDlTxv534TAM8k/xOI4oy/KP+QCd49B++fEBhgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;restcons&quot; title=&quot;restcons&quot; src=&quot;/static/4b44faffb8ceb7efb5b143c949adfa2f/78e96/restcons.png&quot; srcSet=&quot;/static/4b44faffb8ceb7efb5b143c949adfa2f/5243c/restcons.png 240w,/static/4b44faffb8ceb7efb5b143c949adfa2f/ab158/restcons.png 480w,/static/4b44faffb8ceb7efb5b143c949adfa2f/78e96/restcons.png 721w&quot; sizes=&quot;(max-width: 721px) 100vw, 721px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Loosing Benefits&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;With this perspective, it becomes clear as to what we stand to gain or lose if an individual style were used or not used. For example - &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Cache is not used&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;APIs have session&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Server API response is in HTML&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Payloads are encrypted and cannot be read by intermediaries (e.g., https)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;There is a single URL with action specified in payload (RPC style)&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;Uniform Interface&lt;/h3&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;&amp;#x27;Uniform&amp;#x27;?&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;These above requirements from LCODC$SS can be met while designing the interfaces in different ways by individuals/companies with varying degrees of commonality. REST proposes a ‘common set of constraints’ that address these requirements, while also providing additional benefits. This commonality makes all interfaces &lt;em class=&quot;css-0&quot;&gt;&amp;#x27;Uniform&amp;#x27;&lt;/em&gt;.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Goals&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;While the five constraints existed before, the uniform interface constraint did not and was conceived and included in REST. Its the most distinct feature of REST. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Roy does not explicitly setout goals or needs that spurred this constraint, but I think its useful to deduce from &lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; and &lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Provide Data Encapsulation&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Bringing evolvability from browser-HTML-server success story. (See &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/evaluation.htm#sec_6_1&quot; class=&quot;css-1od09yo&quot;&gt;this&lt;/a&gt;)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Work well with other styles (See previous section)&lt;/li&gt;&lt;/ol&gt;&lt;br/&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Four Interface Constraints&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;REST is defined by four interface constraints&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Identification of resources;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Manipulation of resources through representations&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Self-descriptive messages; and,&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Hypermedia as the engine of application state&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;&lt;style data-emotion-css=&quot;1pkeg2w&quot;&gt;.css-1pkeg2w{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);margin-top:1rem;}@media screen and (min-width:640px){.css-1pkeg2w{font-size:1.25rem;}}@media screen and (min-width:768px){.css-1pkeg2w{font-size:1.5rem;}}&lt;/style&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Identification of resources&lt;/h5&gt;&lt;style data-emotion-css=&quot;1gtwvjp&quot;&gt;.css-1gtwvjp{border-left-color:var(--theme-ui-colors-primary,#6b46c1);border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1gtwvjp p{font-style:italic;}&lt;/style&gt;&lt;blockquote class=&quot;css-1gtwvjp&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The key abstraction of information in REST is a &amp;#x27;resource&amp;#x27;. Any information that can be named can be a resource.&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A REST API is accessor or manipulator of resource. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Diving a larger information space into smaller abstract resources, is similar to a façade interface pattern.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Examples:
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:801px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:37.5%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABKklEQVQoz1VSba6CQAzk/hfyAhAJYDTE+EcEFTWIRkG+URkzzSt5NNnQ7bTTaRcDf1aWJT6fD77frxz1h2FAVVXouk58jau1bYu6rkfMOB6P2O/3E0KCJFiv14jjWHwl1Ian0wmsZZykihmHwwFBEOB+v4/KVJXv+yCe5/mkiDlRFGG320ke8VEhZVPydrsVlVr0fr/lS6KmaeSouv8jK0alopCs7BCGIZ7P56SIh4k0Nuj7fjI2McaUWAgpuSgKrFYrUci77pLx6/UqPpvebrcRI9Hr9Zo8HCc1kiSR/XHJLDifz5KgL8g474/HA2majqOSiA/GHNrlckGWZTA8z4PrurBtG4vFQr5MZBPHcTCbzbBcLmFZFkzTlNWQZLPZSIy1/BuIzedz/AA0NGMaatwjJgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;resource facade&quot; title=&quot;resource facade&quot; src=&quot;/static/f5b9f8977c76115746a06d0bd86f976b/43df9/resource_facade.png&quot; srcSet=&quot;/static/f5b9f8977c76115746a06d0bd86f976b/5243c/resource_facade.png 240w,/static/f5b9f8977c76115746a06d0bd86f976b/ab158/resource_facade.png 480w,/static/f5b9f8977c76115746a06d0bd86f976b/43df9/resource_facade.png 801w&quot; sizes=&quot;(max-width: 801px) 100vw, 801px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Identification of resources is a key design activity that requires understanding of the domain, to decide the right granularity and abstractions for resources.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;So the benefits of resource are clear&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;least coupling&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;late binding&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;conceptual conciseness, &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;efficiency of communication &lt;/li&gt;&lt;/ul&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Manipulation of resources through representations&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;A representation as the name suggests, represents a resource. Manipulating resources by transfering only the representations which contains data which maps to a resource at a concept level.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Example: A hospital may have an &amp;#x27;Appointment&amp;#x27; resource for consulting with doctors. It may contain start time, end time, doctor&amp;#x27;s name/id, consulting room name etc. But a more complex data structure may be behind an appointment with references to doctor&amp;#x27;s calendar, etc. &lt;/p&gt;&lt;style data-emotion-css=&quot;8as35j&quot;&gt;.css-8as35j{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.5rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);}&lt;/style&gt;&lt;h6 class=&quot;css-8as35j&quot;&gt;Data Encapsulation&lt;/h6&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Representations provide data encapsulation we talked about in &lt;a href=&quot;#Goals&quot; class=&quot;css-1od09yo&quot;&gt;&lt;/a&gt; section above&lt;/p&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Self-descriptive messages&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Interaction is stateless between requests, standard methods and media types are used to indicate semantics and exchange information, and responses explicitly indicate cacheability.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Self-descriptive messages is also a requirement of LS style.&lt;/p&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Hypermedia as the engine of application state (HATEOAS)&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;The goal of HATEOAS is &lt;em class=&quot;css-0&quot;&gt;evolability&lt;/em&gt; - similar to one achieved browser-HTML-server success story. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;em class=&quot;css-0&quot;&gt;Browser-HTML-server aka Hypertext Web&lt;/em&gt;: A user visits a site and navigates as he/she chooses. A user always starts from home page, optionally logs in, navigates as per his/her needs to finish a task. The developers of the site are free to change the navigation structure of the site at will, without breaking anything and without causing any inconvenience to user.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;This gives a high level of independent evolvability to the server. A server can&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Change URI structure&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Add/remove resources&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Change representations&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Remove relationships between resources&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Intention of HATEOAS is to achieve the same success with REST. Broadly, the contraints are:&lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Loose Coupling:
Clients should be able to start with a bookmark URI and navigate resource heirarchy/model through URIs provided by server responses. Client is coupled with only the initial URI or few URIs. Server is free to change the resource namespace.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Common Vocabulary:
Clients must understand responses and be able to construct requests by an understanding of media-type that is shared with clients beforehand (For e.g., a clients knows how to render text/html and client knows how to make form submissions). That is client and server have a common vocabulary, that may be domain agnostic or domain specific. So, it is possible that the media type could be standardised fully (e.g., Atom) or partially (HAL)&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;See &lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; for more details&lt;/p&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;HATEOAS Adoption&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;There isn’t a lot of adoption of HATEOAS. &lt;/p&gt;&lt;blockquote class=&quot;css-1gtwvjp&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;REST is software design on the scale of decades: every detail is intended to promote software longevity and independent evolution&lt;sup id=&quot;fnref-4&quot;&gt;&lt;a href=&quot;#fn-4&quot; class=&quot;footnote-ref css-1od09yo&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Many believe that they are not building APIs for web scale or for the longitivity of decades and may never see returns.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;I believe the benefits are not only for projects like Atom, but are also for all platforms of medium to large size.&lt;/p&gt;&lt;h5 class=&quot;css-1pkeg2w&quot;&gt;Applicability for a medium scale org/service&lt;/h5&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Lets consider a SaaS service with 200 APIs. Lets consider that the organization which is providing this service has multiple tenants and multiple UI clients per tenant.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Below diagram show how complex it would be to undertake a change in server, without resorting to API versioning and adding clients with intelligence to be compatible with the migration process.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;It is more of a problem for native clients, than web clients which are more dynamic (COD) &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;API versioning with version in URL would mean that the client entirely switches to a new version with a base url containing new version. This prevents partial evolution and may introduce duplication of code. &lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:396px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:121.66666666666669%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsSAAALEgHS3X78AAACyUlEQVQ4y4WVZ25iUQyF38L5l42wgOwgIIUQQAhC7yWQ0DsBQicefdaYuSGjmSdZt/r4uFw/73K5yPl8lv+NJl9fX7qHlMtlaTQa8vr6Ks1mU9rttnhcOp1O8q/RgI/Ho2y3W1ksFtLv9yWfz0un05FeryfdbldH75YBawNiDiOAVquVzOdzmU6nqjwejyUWi0m9XldmsHx/f//DEEHRgJDPz08FGY1GMplMFARlmKCczWZ1/fb2pqKAFhNGPuawGQwG6hYCK9YooEi8MFIqlXQPxua6h2UOYchmtVqVWq2mwW61WsqMfUBwjz1AkFwupwY4Z62Au91OwuGw3N3dSTAYlJeXFykUCqo4HA4ViDUJIKusAYExMeTeN4a4WCwWxe/3y/Pzs6RSKVXiEEbEiXOCjhIhwBBhwBOYsX8FZJPFcrnUS7haqVQkk8lINBpVZhYCDFjwSVAikdC7GLN69IgfYPv9Xj4+PjSWMHp8fJR4PK7uAohrsMNVBB0AAbcEMnpk1jK82WwkEolosCkHgGBgLBD2EZTT6bSyJkSWRG+9XguJwd1AIKBuEkc3cyjA2k0InlER3CMp15eCm6FQSHw+nzw8PFyTQI3NZjM1ZC8EA7ADhHUymfx7lqF+f3+vhxZ43ATYnhmgCHPbQw8DrK91iCXo8zp4anwk6HA4KEOEsNAQEOZ4BeDT05PG1QAZPZhghTiSFAAAs2dINs0Q75z3zl3m1OOPOrQsuy3KWNkbZw2I2yP5MAwgybIK8HADt61tmZK1K2uq3CEUdk5fxCgZt0xTixpDNswlU+CDFaAGBFOMYoA9QvED0Dowl9xO7bLlHMa4iAEDRdfa2fUXYE/HWLgd3EBRJmEAM5IoA4TVt6RYoQLoAt2O5qY1EUqHNSDWsbVs5PfnZvp2dOfGlpKhfq2TXxlavNyflPvTcsX9eSE0WLewAfwF0I8Dcm8fd90AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;3clients 200apis&quot; title=&quot;3clients 200apis&quot; src=&quot;/static/d20b1e50a4e99d7d6b46405100626a33/afe62/3clients_200apis.png&quot; srcSet=&quot;/static/d20b1e50a4e99d7d6b46405100626a33/5243c/3clients_200apis.png 240w,/static/d20b1e50a4e99d7d6b46405100626a33/afe62/3clients_200apis.png 396w&quot; sizes=&quot;(max-width: 396px) 100vw, 396px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Contrast this with the HATEOAS approach&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:666px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.99999999999999%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVQ4y5WTiYqEQAxE/f9PlEF08EAd7/vM8Boi7e6yoBBau5JK5dDZ912O4xDOJ0aMxo3jKNu2ieu64uR5LvM8y3mej4iXZTFEfd/LMAzC836/xfl8PlJVlQFx+pndVsS5rqvxhQQhivMEQSBOFEWGSB3JyMk3JCinnGmaDBbHsbRtawjANMlFaCuxVRCM8qIopCxLaZpGsiyTMAwN1nWdUN0vQrKhwCZWlaiiLM/zxPd9Q4Bp/0hCHPEXIQ4ooCeamUGhjGRgOKKMd0oGp1VJkpiEGKSGkEuUaCbtGyrqujbBlK7vaZoaYu4QQLk3hQAE62QBUYvhDDknKqgGZVShQyHm1kMFINIpE/zXTnKn/SOhrtltbWgsJDbRfwuuuE3MeRHSF53W019QW6R7+3q9xGEddChP/2dbMUaFX+xk8kRGwLMUAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image css-0&quot; alt=&quot;3clients 200apis hateoas&quot; title=&quot;3clients 200apis hateoas&quot; src=&quot;/static/4b3781d1448b3000ef048a7bbd073479/e8a52/3clients_200apis_hateoas.png&quot; srcSet=&quot;/static/4b3781d1448b3000ef048a7bbd073479/5243c/3clients_200apis_hateoas.png 240w,/static/4b3781d1448b3000ef048a7bbd073479/ab158/3clients_200apis_hateoas.png 480w,/static/4b3781d1448b3000ef048a7bbd073479/e8a52/3clients_200apis_hateoas.png 666w&quot; sizes=&quot;(max-width: 666px) 100vw, 666px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;An additional indirection gives return on investment in the evolution of servers, even though it seems overly complex to fetch just one URL.&lt;/p&gt;&lt;h4 class=&quot;css-rrejfe&quot;&gt;Disadvantages of REST&lt;/h4&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;There is an efficiency trade-off.
There is an efficiency trade-off. (See &lt;a href=&quot;https://pchethan.github.io/2020/06/19/REST.html#cons&quot; class=&quot;css-1od09yo&quot;&gt;contributions above&lt;/a&gt;)&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Dissertation:&lt;/p&gt;&lt;blockquote class=&quot;css-1gtwvjp&quot;&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Uniform interface degrades efficiency, since information is transferred in a standardized form rather than one which is specific to an application’s needs. The REST interface is designed to be efficient for large-grain hypermedia data transfer, optimizing for the common case of the Web, but resulting in an interface that is not optimal for other forms of architectural interaction&lt;/p&gt;&lt;/blockquote&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;Even though the above statement is about the server’s needs, it applies equality to clients needs. To a server, all clients and their needs are equal.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;If a business intends to support heterogenous clients varying highly with CPU, memory and software capabilities, this trade-off could prove expensive.&lt;/p&gt;&lt;p class=&quot;css-1bkk5q4&quot;&gt;I believe here is where graphQL shines.&lt;/p&gt;&lt;h3 class=&quot;css-170hkfz&quot;&gt;References&lt;/h3&gt;&lt;div class=&quot;footnotes css-0&quot;&gt;&lt;style data-emotion-css=&quot;13l3oqy&quot;&gt;.css-13l3oqy{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;hr class=&quot;css-13l3oqy&quot;/&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li id=&quot;fn-1&quot; class=&quot;css-0&quot;&gt;Roy Fielding’s dissertation: &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&quot; class=&quot;css-1od09yo&quot;&gt;https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&lt;/a&gt;&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-3&quot; class=&quot;css-0&quot;&gt;References of dissertation: &lt;a href=&quot;https://www.ics.uci.edu/~fielding/pubs/dissertation/references.htm&quot; class=&quot;css-1od09yo&quot;&gt;https://www.ics.uci.edu/~fielding/pubs/dissertation/references.htm&lt;/a&gt;&lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-2&quot; class=&quot;css-0&quot;&gt;Roy Fielding’s blog on REST: &lt;a href=&quot;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven&quot; class=&quot;css-1od09yo&quot;&gt;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven&lt;/a&gt;&lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id=&quot;fn-4&quot; class=&quot;css-0&quot;&gt;REST is software design on the scale of decades: every detail is intended to promote software longevity and independent evolution: &lt;a href=&quot;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven#comment-724&quot; class=&quot;css-1od09yo&quot;&gt;https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven#comment-724&lt;/a&gt;&lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref css-1od09yo&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;</content:encoded></item></channel></rss>